{"ast":null,"code":"import { HostEvent } from '../types';\n/**\n * Reloads the ThoughtSpot iframe.\n */\n\nfunction reload(iFrame) {\n  const oldFrame = iFrame.cloneNode();\n  const parent = iFrame.parentNode;\n  parent.removeChild(iFrame);\n  parent.appendChild(oldFrame);\n}\n/**\n * Post Iframe message.\n */\n\n\nfunction postIframeMessage(iFrame, message, thoughtSpotHost) {\n  return iFrame.contentWindow.postMessage(message, thoughtSpotHost);\n}\n\nexport function processTrigger(iFrame, messageType, thoughtSpotHost, data) {\n  switch (messageType) {\n    case HostEvent.Reload:\n      return reload(iFrame);\n\n    default:\n      return postIframeMessage(iFrame, {\n        type: messageType,\n        data\n      }, thoughtSpotHost);\n  }\n}","map":{"version":3,"mappings":"AAAA,SAASA,SAAT,QAA0B,UAA1B;AAEA;;;;AAGA,SAASC,MAAT,CAAgBC,MAAhB,EAAyC;AACrC,QAAMC,QAAQ,GAAGD,MAAM,CAACE,SAAP,EAAjB;AACA,QAAMC,MAAM,GAAGH,MAAM,CAACI,UAAtB;AACAD,QAAM,CAACE,WAAP,CAAmBL,MAAnB;AACAG,QAAM,CAACG,WAAP,CAAmBL,QAAnB;AACH;AAED;;;;;AAGA,SAASM,iBAAT,CACIP,MADJ,EAEIQ,OAFJ,EAGIC,eAHJ,EAG2B;AAEvB,SAAOT,MAAM,CAACU,aAAP,CAAqBC,WAArB,CAAiCH,OAAjC,EAA0CC,eAA1C,CAAP;AACH;;AAED,OAAM,SAAUG,cAAV,CACFZ,MADE,EAEFa,WAFE,EAGFJ,eAHE,EAIFK,IAJE,EAIO;AAET,UAAQD,WAAR;AACI,SAAKf,SAAS,CAACiB,MAAf;AACI,aAAOhB,MAAM,CAACC,MAAD,CAAb;;AACJ;AACI,aAAOO,iBAAiB,CACpBP,MADoB,EAEpB;AAAEgB,YAAI,EAAEH,WAAR;AAAqBC;AAArB,OAFoB,EAGpBL,eAHoB,CAAxB;AAJR;AAUH","names":["HostEvent","reload","iFrame","oldFrame","cloneNode","parent","parentNode","removeChild","appendChild","postIframeMessage","message","thoughtSpotHost","contentWindow","postMessage","processTrigger","messageType","data","Reload","type"],"sources":["/Users/nathan.schroeder/Documents/dev/ts-integration-demo/node_modules/@thoughtspot/visual-embed-sdk/src/utils/processTrigger.ts"],"sourcesContent":["import { HostEvent } from '../types';\n\n/**\n * Reloads the ThoughtSpot iframe.\n */\nfunction reload(iFrame: HTMLIFrameElement) {\n    const oldFrame = iFrame.cloneNode();\n    const parent = iFrame.parentNode;\n    parent.removeChild(iFrame);\n    parent.appendChild(oldFrame);\n}\n\n/**\n * Post Iframe message.\n */\nfunction postIframeMessage(\n    iFrame: HTMLIFrameElement,\n    message: { type: HostEvent; data: any },\n    thoughtSpotHost: string,\n) {\n    return iFrame.contentWindow.postMessage(message, thoughtSpotHost);\n}\n\nexport function processTrigger(\n    iFrame: HTMLIFrameElement,\n    messageType: HostEvent,\n    thoughtSpotHost: string,\n    data: any,\n) {\n    switch (messageType) {\n        case HostEvent.Reload:\n            return reload(iFrame);\n        default:\n            return postIframeMessage(\n                iFrame,\n                { type: messageType, data },\n                thoughtSpotHost,\n            );\n    }\n}\n"]},"metadata":{},"sourceType":"module"}