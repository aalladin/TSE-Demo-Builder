{"ast":null,"code":"var _jsxFileName = \"/Users/nathan.schroeder/Documents/dev/TSIntegrationDemo/ts-integration-demo/src/Content.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$(),\n    _s3 = $RefreshSig$();\n\nimport React, { useState, useEffect, setState } from 'react';\nimport { init, AuthType, Page, EmbedEvent, Action, HostEvent } from '@thoughtspot/visual-embed-sdk';\nimport { SearchEmbed, LiveboardEmbed, AppEmbed, useEmbedRef } from '@thoughtspot/visual-embed-sdk/react';\nimport { MultiSelect } from \"react-multi-select-component\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Content(props) {\n  _s();\n\n  const {\n    settings,\n    showSettings\n  } = props;\n  const thoughtspot_URL = \"https://se-thoughtspot-cloud.thoughtspot.cloud/#\";\n  const [renderType, setRenderType] = useState('');\n  const [renderContent, setRenderContent] = useState('');\n  const [renderName, setRenderName] = useState('');\n  const [runFilters, setRunFilters] = useState('');\n  const [selectedFilters, setSelectedFilters] = useState('');\n  const [filterKey, setFilterKey] = useState('');\n  const [renderKey, setRenderKey] = useState('');\n  const [searchFields, setSearchFields] = useState('');\n  const embedRef = useEmbedRef();\n  useEffect(() => {\n    if (settings.URL) {\n      try {\n        init({\n          thoughtSpotHost: settings.URL,\n          authType: AuthType.None\n        });\n      } catch (err) {\n        alert(\"could not connect to thoughtspot\");\n      }\n    }\n\n    var defaultFilters = {};\n\n    if (settings.links) {\n      var filterObjs = [];\n      var defaultsFound = false;\n\n      for (var link of settings.links) {\n        if (settings.linkTypes[link] == 'Filter') {\n          var filterContent = settings.linkContents[link].split(\"|\");\n          var filterName = settings.linkNames[link];\n\n          if (filterContent.length > 1) {\n            for (var i = 1; i < filterContent.length; i++) {\n              var prop = filterContent[i].split(\"=\")[0];\n              var val = filterContent[i].split(\"=\")[1];\n\n              if (prop == 'default') {\n                var filterObj = {\n                  columnName: filterName,\n                  operator: 'IN',\n                  values: [val]\n                };\n                defaultFilters[filterName] = [{\n                  label: val,\n                  value: val\n                }];\n                filterObjs.push(filterObj);\n                defaultsFound = true;\n              }\n            }\n          }\n        }\n      }\n    }\n\n    if (defaultsFound) {\n      setRunFilters(filterObjs);\n      setSelectedFilters(defaultFilters);\n    }\n\n    if (!runFilters && !defaultsFound) setRunFilters([]);\n    if (!selectedFilters && !defaultsFound) setSelectedFilters({});\n  }, []);\n\n  function renderLink(type, content, name) {\n    setRenderContent(content);\n    setRenderType(type);\n    setRenderName(name);\n    setRenderKey(Date.now());\n  }\n\n  function buildSearchString(searchingFields, filteringFields) {\n    if (!searchingFields) searchingFields = searchFields;\n    if (!filteringFields) filteringFields = runFilters;\n    var filterString = \"\";\n\n    if (searchingFields) {\n      for (var field of searchingFields) {\n        filterString += \" [\" + field + \"]\";\n      }\n    }\n\n    if (filteringFields) {\n      for (var filter of filteringFields) {\n        var filterVals = filter.values;\n\n        for (var val of filterVals) {\n          filterString += \" [\" + filter.columnName + \"].'\" + val + \"'\";\n        }\n      }\n    }\n\n    var searchString = renderContent.split(\"|\")[0] + filterString;\n    console.log(\"runtime search string\", searchString);\n    return searchString;\n  }\n\n  function setField(fields) {\n    // embedRef.current.trigger(HostEvent.Search, {\n    //   searchQuery: buildSearchString(fields, null),\n    //   executeSearch: true,\n    // });\n    setSearchFields(fields);\n  }\n\n  function setFilter(newFilterObj) {\n    var filterObjs = runFilters;\n    var found = false;\n\n    for (var i = 0; i < filterObjs.length; i++) {\n      var filterObj = filterObjs[i];\n      if (!filterObj) continue;\n\n      if (filterObj.columnName == newFilterObj.columnName) {\n        filterObjs[i] = newFilterObj;\n        found = true;\n      }\n    }\n\n    if (!found) {\n      filterObjs.push(newFilterObj);\n    }\n\n    if (renderType == 'Liveboard') {\n      embedRef.current.trigger(HostEvent.UpdateRuntimeFilters, filterObjs);\n    } else {\n      setRunFilters(filterObjs); // embedRef.current.trigger(HostEvent.Search, {\n      //   searchQuery: buildSearchString(null,filterObjs)\n      // });\n    }\n  }\n\n  function onEmbedRendered() {\n    embedRef.current.on(EmbedEvent.CustomAction, payload => {\n      var data = payload.data.embedAnswerData.data[0].columnDataLite;\n      var alertString = \"Action Triggered: \" + payload.data.id;\n\n      for (var col in data) {\n        alertString += \"\\n\\n\" + data[col].dataValue.join(\", \");\n      }\n\n      alert(alertString);\n    });\n  }\n\n  var isHorizontal = settings.orientation == 'Horizontal';\n\n  if (settings.links) {\n    var linkContainers = [];\n    var topLevel = [];\n\n    for (var link of settings.links) {\n      if (!settings.linkParents[link] || settings.linkParents[link] == 'None') {\n        topLevel.push(link);\n      }\n    }\n\n    for (var link of topLevel) {\n      var childrenLinks = [];\n\n      for (var child of settings.links) {\n        if (settings.linkParents[child] == settings.linkNames[link]) {\n          childrenLinks.push( /*#__PURE__*/_jsxDEV(LinkContainer, {\n            id: child,\n            name: settings.linkNames[child],\n            content: settings.linkContents[child],\n            type: settings.linkTypes[child],\n            renderLink: renderLink,\n            isHorizontal: isHorizontal\n          }, child, false, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 11\n          }, this));\n        }\n      }\n\n      linkContainers.push( /*#__PURE__*/_jsxDEV(LinkContainer, {\n        id: link,\n        name: settings.linkNames[link],\n        content: settings.linkContents[link],\n        type: settings.linkTypes[link],\n        renderLink: renderLink,\n        children: childrenLinks,\n        isHorizontal: isHorizontal\n      }, link, false, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 25\n      }, this));\n    }\n  }\n\n  var filters = [];\n\n  if (settings.links) {\n    for (var link of settings.links) {\n      if ((settings.linkTypes[link] == 'Filter' || settings.linkTypes[link] == 'Field') && settings.linkParents[link] == renderName) {\n        var filterContent = settings.linkContents[link].split(\"|\");\n        var hasSelectAll = true;\n        var defaultValue = '';\n        var filterValues = filterContent[0].split(',');\n        var filterName = settings.linkNames[link];\n\n        if (filterContent.length > 1) {\n          for (var i = 1; i < filterContent.length; i++) {\n            var prop = filterContent[i].split(\"=\")[0];\n            var val = filterContent[i].split(\"=\")[1];\n\n            if (prop == 'selectAll') {\n              if (val == 'false') {\n                hasSelectAll = false;\n              }\n            }\n          }\n        }\n\n        var filterType = 'Filter';\n\n        if (settings.linkTypes[link] == 'Field') {\n          filterType = 'Field';\n        }\n\n        var options = [];\n\n        for (var val in filterValues) {\n          options.push({\n            'value': filterValues[val],\n            'label': filterValues[val]\n          });\n        }\n\n        if (selectedFilters[filterName]) {\n          filters.push( /*#__PURE__*/_jsxDEV(Filter, {\n            type: filterType,\n            setField: setField,\n            hasSelectAll: hasSelectAll,\n            filterName: filterName,\n            options: options,\n            setFilter: setFilter,\n            defaultValues: selectedFilters[filterName]\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 22\n          }, this)); //ilters.push(<MultiSelect multi={true} hasSelectAll={hasSelectAll} value={selectedFilters[filterName]} options={options} placeholder={\"Select \"+filterName} onChange={setFilter} overrideStrings={overrideStrings}/>)\n        } else {\n          filters.push( /*#__PURE__*/_jsxDEV(Filter, {\n            type: filterType,\n            setField: setField,\n            hasSelectAll: hasSelectAll,\n            filterName: filterName,\n            options: options,\n            setFilter: setFilter\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 22\n          }, this)); //filters.push(<MultiSelect multi={true} hasSelectAll={hasSelectAll} options={options} placeholder={\"Select \"+filterName} onChange={setFilter} overrideStrings={overrideStrings}/>)\n        }\n      }\n    }\n  } //Set primary CSS variables for page\n\n\n  document.documentElement.style.setProperty('--primary-color', settings.primaryColor);\n  document.documentElement.style.setProperty('--secondary-color', settings.secondaryColor); //Style filter dropdown with CSS variables\n\n  if (!isHorizontal) {\n    document.documentElement.style.setProperty('--rmsc-p', '8px');\n    document.documentElement.style.setProperty('--rmsc-radius', '3px');\n    document.documentElement.style.setProperty('--rmsc-h', '30px');\n    document.documentElement.style.setProperty('--dropdown-width', '130px');\n    document.documentElement.style.setProperty('--dropdown-container-right-margin', '0px');\n    document.documentElement.style.setProperty('--dropdown-container-bottom-margin', '10px');\n    document.documentElement.style.setProperty('--dropdown-left-margin', '130px');\n    document.documentElement.style.setProperty('--dropdown-top-margin', '-240px');\n    document.documentElement.style.setProperty('--dropdown-max-height', '240px');\n  } else {\n    document.documentElement.style.setProperty('--rmsc-p', '8px');\n    document.documentElement.style.setProperty('--rmsc-radius', '3px');\n    document.documentElement.style.setProperty('--rmsc-h', '30px');\n    document.documentElement.style.setProperty('--dropdown-width', '150px');\n    document.documentElement.style.setProperty('--dropdown-container-right-margin', '10px');\n    document.documentElement.style.setProperty('--dropdown-container-bottom-margin', '0px');\n    document.documentElement.style.setProperty('--dropdown-left-margin', '0px');\n    document.documentElement.style.setProperty('--dropdown-top-margin', '0px');\n    document.documentElement.style.setProperty('--dropdown-max-height', '500px');\n  }\n\n  var enabledActions = [];\n  var disabledActions = []; //Scan Properties\n\n  if (renderContent && (renderType == 'Liveboard' || renderType == 'Answer' || renderType == 'Search')) {\n    var contents = renderContent.split(\"|\");\n\n    if (contents.length > 1) {\n      for (var i = 1; i < contents.length; i++) {\n        var props = contents[i].split(\"=\");\n\n        if (props.length > 1) {\n          var prop = props[0];\n          var val = props[1];\n\n          if (prop == 'enableAction') {\n            enabledActions.push(Action[val.split(\"Action.\")[1]]);\n          }\n\n          if (prop == 'disableAction') {\n            disabledActions.push(Action[val.split(\"Action.\")[1]]);\n          }\n        }\n      }\n    }\n  }\n\n  var renderPage = /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 280,\n    columnNumber: 18\n  }, this);\n\n  if (!renderType && settings && settings.links) {\n    var firstLink = settings.links[0];\n    renderLink(settings.linkTypes[firstLink], settings.linkContents[firstLink], settings.linkNames[firstLink]);\n  }\n\n  if (renderType == 'Search') {\n    var renderContents = null;\n\n    if (renderContent && renderContent.length > 0) {\n      renderContents = renderContent.split(\"|\")[0].split(\",\");\n    }\n\n    renderPage = /*#__PURE__*/_jsxDEV(SearchEmbed, {\n      enabledActions: enabledActions.length > 0 ? enabledActions : null,\n      disabledActions: disabledActions.length > 0 ? disabledActions : null,\n      dataSources: renderContents,\n      hideDataSources: true,\n      frameParams: {\n        width: '100%',\n        height: '100%'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 290,\n      columnNumber: 16\n    }, this);\n  }\n\n  if (renderType == 'Liveboard') {\n    renderPage = /*#__PURE__*/_jsxDEV(LiveboardEmbed, {\n      ref: embedRef,\n      onLiveboardRendered: onEmbedRendered,\n      enabledActions: enabledActions.length > 0 ? enabledActions : null,\n      disabledActions: disabledActions.length > 0 ? disabledActions : null,\n      hideDataSources: true,\n      runtimeFilters: runFilters,\n      liveboardId: renderContent.split(\"|\")[0],\n      frameParams: {\n        width: '100%',\n        height: '100%'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 299,\n      columnNumber: 16\n    }, this);\n  }\n\n  if (renderType == 'Answer') {\n    renderPage = /*#__PURE__*/_jsxDEV(SearchEmbed, {\n      ref: embedRef,\n      enabledActions: enabledActions.length > 0 ? enabledActions : null,\n      disabledActions: disabledActions.length > 0 ? disabledActions : null,\n      onLoad: onEmbedRendered,\n      hideDataSources: true,\n      answerId: renderContent.split(\"|\")[0],\n      frameParams: {\n        width: '100%',\n        height: '100vh'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 311,\n      columnNumber: 16\n    }, this);\n  }\n\n  if (renderType == 'Search String') {\n    var searchString = buildSearchString();\n    console.log(\"init search String\", searchString);\n    var searchOptions = {\n      searchTokenString: searchString,\n      executeSearch: true\n    };\n    var dataSources = renderContent.split(\"|\")[1].split(\",\");\n    renderPage = /*#__PURE__*/_jsxDEV(SearchEmbed, {\n      ref: embedRef,\n      dataSources: dataSources,\n      hideDataSources: true,\n      searchOptions: searchOptions,\n      frameParams: {\n        width: '100%',\n        height: '100vh'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 329,\n      columnNumber: 16\n    }, this);\n  }\n\n  if (renderType == 'App') {\n    renderPage = /*#__PURE__*/_jsxDEV(AppEmbed, {\n      pageId: renderContent,\n      frameParams: {\n        width: '100%',\n        height: '100%'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 333,\n      columnNumber: 16\n    }, this);\n  }\n\n  if (renderType == 'URL') {\n    renderPage = /*#__PURE__*/_jsxDEV(\"iframe\", {\n      style: {\n        width: '100%',\n        height: '100%',\n        border: 'none'\n      },\n      src: renderContent\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 336,\n      columnNumber: 16\n    }, this);\n  }\n\n  document.title = settings.name;\n\n  function openTS() {\n    window.open(settings.URL, '_blank');\n  }\n\n  function openGit() {\n    window.open('https://github.com/hannsta/TSE-Demo-Builder', '_blank');\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: isHorizontal ? horizontalContainer : verticalContainer,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: isHorizontal ? topMenu : leftMenu,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: isHorizontal ? logoImageHolderHorizontal : logoImageHolderVertical,\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: settings.logoImage,\n          style: isHorizontal ? horizontalLogoImage : verticalLogoImage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 354,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 353,\n        columnNumber: 9\n      }, this), linkContainers, /*#__PURE__*/_jsxDEV(\"div\", {\n        style: isHorizontal ? horizontalIcons : verticalIcons,\n        children: [!isHorizontal ? /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            margin: '10px'\n          },\n          children: filters\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 359,\n          columnNumber: 28\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 361,\n          columnNumber: 22\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            flexDirection: 'row',\n            alignItems: 'center',\n            marginTop: '15px',\n            marginBottom: '10px'\n          },\n          children: [isHorizontal ? /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              flexDirection: 'row',\n              padding: '10px'\n            },\n            children: filters\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 363,\n            columnNumber: 27\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 365,\n            columnNumber: 20\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            onClick: showSettings,\n            style: {\n              marginRight: '5px'\n            },\n            children: /*#__PURE__*/_jsxDEV(SettingsIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 367,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 366,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              width: '30px',\n              height: '30px',\n              marginRight: '5px'\n            },\n            onClick: openTS,\n            children: /*#__PURE__*/_jsxDEV(TSLogo, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 370,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 369,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              width: '22px',\n              height: '22px',\n              marginRight: '5px'\n            },\n            onClick: openGit,\n            children: /*#__PURE__*/_jsxDEV(GitHubLogo, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 373,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 372,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 362,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 358,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 352,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"TSContainer\",\n      style: {\n        height: '100%'\n      },\n      children: renderPage\n    }, renderKey, false, {\n      fileName: _jsxFileName,\n      lineNumber: 379,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 351,\n    columnNumber: 3\n  }, this);\n}\n\n_s(Content, \"8ySbp4VmIz7JH0eofKHuTvGu770=\", false, function () {\n  return [useEmbedRef];\n});\n\n_c = Content;\n\nfunction LinkContainer(props) {\n  _s2();\n\n  const {\n    id,\n    name,\n    content,\n    type,\n    renderLink,\n    children,\n    isHorizontal\n  } = props;\n  const [hoverVisible, setHoverVisible] = useState('');\n\n  function handleLinkClick() {\n    renderLink(type, content, name);\n  }\n\n  var isDropdown = false;\n\n  if (children) {\n    if (children.length > 0) {\n      isDropdown = true;\n    }\n  }\n\n  function handleMouseEnter() {\n    setHoverVisible(true);\n  }\n\n  function handleMouseLeave() {\n    setHoverVisible(false);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: isHorizontal ? horizontalLink : null,\n    children: isDropdown ? /*#__PURE__*/_jsxDEV(\"div\", {\n      style: isHorizontal ? contentLinkHorizontal : contentLinkVertical,\n      className: \"contentLink\",\n      onMouseEnter: handleMouseLeave,\n      onMouseLeave: handleMouseEnter,\n      children: [name, hoverVisible ? null : /*#__PURE__*/_jsxDEV(\"div\", {\n        style: isHorizontal ? hoverMenuHorizontal : hoverMenuVertical,\n        className: \"hoverMenu\",\n        children: children\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 424,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 419,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      style: isHorizontal ? contentLinkHorizontal : contentLinkVertical,\n      className: \"contentLink\",\n      onClick: handleLinkClick,\n      children: name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 430,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 415,\n    columnNumber: 5\n  }, this);\n} // CSS to be used for vertical and horizontal alignments\n\n\n_s2(LinkContainer, \"beTgb2qkNb07YGKRGhzeMR3paEs=\");\n\n_c2 = LinkContainer;\nconst leftMenu = {\n  background: 'var(--primary-color)',\n  color: 'var(--secondary-color)',\n  borderRight: '1px solid #dddddd',\n  width: '150px',\n  height: '100%',\n  display: 'flex',\n  flexDirection: 'column',\n  boxShadow: '0px 0px 15px #dddddd'\n};\nconst topMenu = {\n  background: 'var(--primary-color)',\n  color: 'var(--secondary-color)',\n  borderBottom: '1px solid #dddddd',\n  width: '100%',\n  height: '75px',\n  minHeight: '75px',\n  display: 'flex',\n  flexDirection: 'row',\n  boxShadow: '0px 0px 15px #dddddd'\n};\nconst verticalContainer = {\n  display: 'flex',\n  flexDirection: 'row',\n  width: '100%',\n  height: '100vh',\n  overflow: 'hidden'\n};\nconst horizontalContainer = {\n  display: 'flex',\n  flexDirection: 'column',\n  width: '100%',\n  height: '100vh',\n  overflow: 'hidden'\n};\nconst logoImageHolderVertical = {\n  height: '150px',\n  width: '150px',\n  display: 'flex',\n  justifyContent: 'center',\n  alignItems: 'center',\n  marginTop: '20px',\n  marginBottom: '20px'\n};\nconst logoImageHolderHorizontal = {\n  display: 'flex',\n  justifyContent: 'center',\n  alignItems: 'center',\n  marginLeft: '20px',\n  marginRight: '100px'\n};\nconst verticalLogoImage = {\n  width: '75px'\n};\nconst horizontalLogoImage = {\n  height: '50px'\n};\nconst horizontalIcons = {\n  display: 'flex',\n  flexDirection: 'column',\n  justifyContent: 'center',\n  alignItems: 'flex-end',\n  width: '100%',\n  marginRight: '15px'\n};\nconst verticalIcons = {\n  display: 'flex',\n  flexDirection: 'column',\n  alignItems: 'center',\n  justifyContent: 'flex-end',\n  height: '100vh'\n};\nconst contentLinkVertical = {\n  fontSize: '14px',\n  fontFamily: \"'Open Sans', sans-serif\",\n  paddingLeft: '15px',\n  paddingTop: '10px',\n  paddingBottom: '10px',\n  marginBottom: '5px'\n};\nconst contentLinkHorizontal = {\n  maxWidth: '100px',\n  height: '50px',\n  display: 'flex',\n  alignItems: 'center',\n  flexShrink: 0,\n  paddingLeft: '10px',\n  paddingRight: '25px'\n};\nconst horizontalLink = {\n  display: 'flex',\n  alignItems: 'flex-end',\n  flexShrink: 0\n};\nconst hoverMenuHorizontal = {\n  position: 'absolute',\n  width: '150px',\n  top: '75px',\n  marginLeft: '-10px'\n};\nconst hoverMenuVertical = {\n  position: 'absolute',\n  width: '150px',\n  left: '150px',\n  marginTop: '-29px'\n};\n\nfunction Filter(props) {\n  _s3();\n\n  const {\n    hasSelectAll,\n    filterName,\n    options,\n    type,\n    setFilter,\n    setField,\n    defaultValues\n  } = props;\n  const [selectedFilter, setSelectedFilter] = useState('');\n  useEffect(() => {\n    if (defaultValues) {\n      setSelectedFilter(defaultValues);\n    } else {\n      setSelectedFilter([]);\n    }\n  }, []);\n  var overrideStrings = {\n    \"allItemsAreSelected\": \"All \" + filterName,\n    \"search\": \"Search \" + filterName,\n    \"selectAll\": \"Select All\",\n    \"selectAllFiltered\": \"Select All (Filtered)\",\n    \"selectSomeItems\": filterName,\n    \"create\": \"Create\"\n  };\n\n  function handleFieldChange(e) {\n    setSelectedFilter(e);\n    var filterVals = [];\n\n    for (var i = 0; i < e.length; i++) {\n      filterVals.push(e[i].label);\n    }\n\n    setField(filterVals);\n  }\n\n  function handleFilterChange(e) {\n    var filterVals = [];\n\n    for (var i = 0; i < e.length; i++) {\n      filterVals.push(e[i].label);\n    }\n\n    var filtersObj = {\n      columnName: filterName,\n      operator: 'IN',\n      values: filterVals\n    };\n    setSelectedFilter(e);\n    setFilter(filtersObj);\n  }\n\n  return /*#__PURE__*/_jsxDEV(MultiSelect, {\n    multi: true,\n    hasSelectAll: hasSelectAll,\n    value: selectedFilter,\n    options: options,\n    placeholder: \"Select \" + filterName,\n    onChange: type == 'Field' ? handleFieldChange : handleFilterChange,\n    overrideStrings: overrideStrings\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 598,\n    columnNumber: 3\n  }, this);\n}\n\n_s3(Filter, \"FTpVxe0njooh09po36eNh/WqCbI=\");\n\n_c3 = Filter;\n\nfunction UserIcon() {\n  return /*#__PURE__*/_jsxDEV(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"-2 -2 24 24\",\n    width: \"24\",\n    fill: \"currentColor\",\n    children: /*#__PURE__*/_jsxDEV(\"path\", {\n      d: \"M10 20C4.477 20 0 15.523 0 10S4.477 0 10 0s10 4.477 10 10-4.477 10-10 10zm0-2a8 8 0 1 0 0-16 8 8 0 0 0 0 16zm0-14a4 4 0 0 1 4 4v2a4 4 0 1 1-8 0V8a4 4 0 0 1 4-4zm0 2a2 2 0 0 0-2 2v2a2 2 0 1 0 4 0V8a2 2 0 0 0-2-2zM5.91 16.876a8.033 8.033 0 0 1-1.58-1.232 5.57 5.57 0 0 1 2.204-1.574 1 1 0 1 1 .733 1.86c-.532.21-.993.538-1.358.946zm8.144.022a3.652 3.652 0 0 0-1.41-.964 1 1 0 1 1 .712-1.868 5.65 5.65 0 0 1 2.284 1.607 8.032 8.032 0 0 1-1.586 1.225z\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 610,\n      columnNumber: 103\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 610,\n    columnNumber: 10\n  }, this);\n}\n\n_c4 = UserIcon;\n\nfunction SettingsIcon() {\n  return /*#__PURE__*/_jsxDEV(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"-2 -2 24 24\",\n    width: \"24\",\n    fill: \"currentColor\",\n    children: /*#__PURE__*/_jsxDEV(\"path\", {\n      d: \"M20 8.163A2.106 2.106 0 0 0 18.926 10c0 .789.433 1.476 1.074 1.837l-.717 2.406a2.105 2.105 0 0 0-2.218 3.058l-2.062 1.602A2.104 2.104 0 0 0 11.633 20l-3.29-.008a2.104 2.104 0 0 0-3.362-1.094l-2.06-1.615A2.105 2.105 0 0 0 .715 14.24L0 11.825A2.106 2.106 0 0 0 1.051 10C1.051 9.22.63 8.54 0 8.175L.715 5.76a2.105 2.105 0 0 0 2.207-3.043L4.98 1.102A2.104 2.104 0 0 0 8.342.008L11.634 0a2.104 2.104 0 0 0 3.37 1.097l2.06 1.603a2.105 2.105 0 0 0 2.218 3.058L20 8.162zM14.823 3.68c0-.063.002-.125.005-.188l-.08-.062a4.103 4.103 0 0 1-4.308-1.428l-.904.002a4.1 4.1 0 0 1-4.29 1.43l-.095.076A4.108 4.108 0 0 1 2.279 7.6a4.1 4.1 0 0 1 .772 2.399c0 .882-.28 1.715-.772 2.4a4.108 4.108 0 0 1 2.872 4.09l.096.075a4.104 4.104 0 0 1 4.289 1.43l.904.002a4.1 4.1 0 0 1 4.307-1.428l.08-.062A4.108 4.108 0 0 1 17.7 12.4a4.102 4.102 0 0 1-.773-2.4c0-.882.281-1.716.773-2.4a4.108 4.108 0 0 1-2.876-3.919zM10 14a4 4 0 1 1 0-8 4 4 0 0 1 0 8zm0-2a2 2 0 1 0 0-4 2 2 0 0 0 0 4z\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 613,\n      columnNumber: 103\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 613,\n    columnNumber: 10\n  }, this);\n}\n\n_c5 = SettingsIcon;\n\nfunction TSLogo() {\n  return /*#__PURE__*/_jsxDEV(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    focusable: \"false\",\n    width: \"100%\",\n    height: \"100%\",\n    viewBox: \"0 0 512 512\",\n    children: /*#__PURE__*/_jsxDEV(\"g\", {\n      fill: \"currentColor\",\n      \"fill-rule\": \"evenodd\",\n      children: /*#__PURE__*/_jsxDEV(\"path\", {\n        d: \"M328.33 378.112c0-20.677 16.767-37.445 37.444-37.445 20.684 0 37.448 16.768 37.448 37.445 0 20.68-16.764 37.448-37.448 37.448-20.677 0-37.445-16.768-37.445-37.448M106 209.61h100.634v203.608h18.72V209.61h18.724v203.608h18.724V209.61h18.72v203.608h18.725V209.61H400.88v-18.724H106v18.724M106 172.165h294.88v-18.724H106zM106 134.72h294.88V116H106z\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 617,\n        columnNumber: 160\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 617,\n      columnNumber: 117\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 617,\n    columnNumber: 10\n  }, this);\n}\n\n_c6 = TSLogo;\n\nfunction GitHubLogo() {\n  return /*#__PURE__*/_jsxDEV(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"100%\",\n    height: \"100%\",\n    viewBox: \"0 0 256 250\",\n    version: \"1.1\",\n    preserveAspectRatio: \"xMidYMid\",\n    children: /*#__PURE__*/_jsxDEV(\"g\", {\n      children: /*#__PURE__*/_jsxDEV(\"path\", {\n        d: \"M128.00106,0 C57.3172926,0 0,57.3066942 0,128.00106 C0,184.555281 36.6761997,232.535542 87.534937,249.460899 C93.9320223,250.645779 96.280588,246.684165 96.280588,243.303333 C96.280588,240.251045 96.1618878,230.167899 96.106777,219.472176 C60.4967585,227.215235 52.9826207,204.369712 52.9826207,204.369712 C47.1599584,189.574598 38.770408,185.640538 38.770408,185.640538 C27.1568785,177.696113 39.6458206,177.859325 39.6458206,177.859325 C52.4993419,178.762293 59.267365,191.04987 59.267365,191.04987 C70.6837675,210.618423 89.2115753,204.961093 96.5158685,201.690482 C97.6647155,193.417512 100.981959,187.77078 104.642583,184.574357 C76.211799,181.33766 46.324819,170.362144 46.324819,121.315702 C46.324819,107.340889 51.3250588,95.9223682 59.5132437,86.9583937 C58.1842268,83.7344152 53.8029229,70.715562 60.7532354,53.0843636 C60.7532354,53.0843636 71.5019501,49.6441813 95.9626412,66.2049595 C106.172967,63.368876 117.123047,61.9465949 128.00106,61.8978432 C138.879073,61.9465949 149.837632,63.368876 160.067033,66.2049595 C184.49805,49.6441813 195.231926,53.0843636 195.231926,53.0843636 C202.199197,70.715562 197.815773,83.7344152 196.486756,86.9583937 C204.694018,95.9223682 209.660343,107.340889 209.660343,121.315702 C209.660343,170.478725 179.716133,181.303747 151.213281,184.472614 C155.80443,188.444828 159.895342,196.234518 159.895342,208.176593 C159.895342,225.303317 159.746968,239.087361 159.746968,243.303333 C159.746968,246.709601 162.05102,250.70089 168.53925,249.443941 C219.370432,232.499507 256,184.536204 256,128.00106 C256,57.3066942 198.691187,0 128.00106,0 Z M47.9405593,182.340212 C47.6586465,182.976105 46.6581745,183.166873 45.7467277,182.730227 C44.8183235,182.312656 44.2968914,181.445722 44.5978808,180.80771 C44.8734344,180.152739 45.876026,179.97045 46.8023103,180.409216 C47.7328342,180.826786 48.2627451,181.702199 47.9405593,182.340212 Z M54.2367892,187.958254 C53.6263318,188.524199 52.4329723,188.261363 51.6232682,187.366874 C50.7860088,186.474504 50.6291553,185.281144 51.2480912,184.70672 C51.8776254,184.140775 53.0349512,184.405731 53.8743302,185.298101 C54.7115892,186.201069 54.8748019,187.38595 54.2367892,187.958254 Z M58.5562413,195.146347 C57.7719732,195.691096 56.4895886,195.180261 55.6968417,194.042013 C54.9125733,192.903764 54.9125733,191.538713 55.713799,190.991845 C56.5086651,190.444977 57.7719732,190.936735 58.5753181,192.066505 C59.3574669,193.22383 59.3574669,194.58888 58.5562413,195.146347 Z M65.8613592,203.471174 C65.1597571,204.244846 63.6654083,204.03712 62.5716717,202.981538 C61.4524999,201.94927 61.1409122,200.484596 61.8446341,199.710926 C62.5547146,198.935137 64.0575422,199.15346 65.1597571,200.200564 C66.2704506,201.230712 66.6095936,202.705984 65.8613592,203.471174 Z M75.3025151,206.281542 C74.9930474,207.284134 73.553809,207.739857 72.1039724,207.313809 C70.6562556,206.875043 69.7087748,205.700761 70.0012857,204.687571 C70.302275,203.678621 71.7478721,203.20382 73.2083069,203.659543 C74.6539041,204.09619 75.6035048,205.261994 75.3025151,206.281542 Z M86.046947,207.473627 C86.0829806,208.529209 84.8535871,209.404622 83.3316829,209.4237 C81.8013,209.457614 80.563428,208.603398 80.5464708,207.564772 C80.5464708,206.498591 81.7483088,205.631657 83.2786917,205.606221 C84.8005962,205.576546 86.046947,206.424403 86.046947,207.473627 Z M96.6021471,207.069023 C96.7844366,208.099171 95.7267341,209.156872 94.215428,209.438785 C92.7295577,209.710099 91.3539086,209.074206 91.1652603,208.052538 C90.9808515,206.996955 92.0576306,205.939253 93.5413813,205.66582 C95.054807,205.402984 96.4092596,206.021919 96.6021471,207.069023 Z\",\n        fill: \"currentColor\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 620,\n        columnNumber: 147\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 620,\n      columnNumber: 144\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 620,\n    columnNumber: 10\n  }, this);\n}\n\n_c7 = GitHubLogo;\nexport default Content;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7;\n\n$RefreshReg$(_c, \"Content\");\n$RefreshReg$(_c2, \"LinkContainer\");\n$RefreshReg$(_c3, \"Filter\");\n$RefreshReg$(_c4, \"UserIcon\");\n$RefreshReg$(_c5, \"SettingsIcon\");\n$RefreshReg$(_c6, \"TSLogo\");\n$RefreshReg$(_c7, \"GitHubLogo\");","map":{"version":3,"sources":["/Users/nathan.schroeder/Documents/dev/TSIntegrationDemo/ts-integration-demo/src/Content.js"],"names":["React","useState","useEffect","setState","init","AuthType","Page","EmbedEvent","Action","HostEvent","SearchEmbed","LiveboardEmbed","AppEmbed","useEmbedRef","MultiSelect","Content","props","settings","showSettings","thoughtspot_URL","renderType","setRenderType","renderContent","setRenderContent","renderName","setRenderName","runFilters","setRunFilters","selectedFilters","setSelectedFilters","filterKey","setFilterKey","renderKey","setRenderKey","searchFields","setSearchFields","embedRef","URL","thoughtSpotHost","authType","None","err","alert","defaultFilters","links","filterObjs","defaultsFound","link","linkTypes","filterContent","linkContents","split","filterName","linkNames","length","i","prop","val","filterObj","columnName","operator","values","label","value","push","renderLink","type","content","name","Date","now","buildSearchString","searchingFields","filteringFields","filterString","field","filter","filterVals","searchString","console","log","setField","fields","setFilter","newFilterObj","found","current","trigger","UpdateRuntimeFilters","onEmbedRendered","on","CustomAction","payload","data","embedAnswerData","columnDataLite","alertString","id","col","dataValue","join","isHorizontal","orientation","linkContainers","topLevel","linkParents","childrenLinks","child","filters","hasSelectAll","defaultValue","filterValues","filterType","options","document","documentElement","style","setProperty","primaryColor","secondaryColor","enabledActions","disabledActions","contents","renderPage","firstLink","renderContents","width","height","searchOptions","searchTokenString","executeSearch","dataSources","border","title","openTS","window","open","openGit","horizontalContainer","verticalContainer","topMenu","leftMenu","logoImageHolderHorizontal","logoImageHolderVertical","logoImage","horizontalLogoImage","verticalLogoImage","horizontalIcons","verticalIcons","margin","display","flexDirection","alignItems","marginTop","marginBottom","padding","marginRight","LinkContainer","children","hoverVisible","setHoverVisible","handleLinkClick","isDropdown","handleMouseEnter","handleMouseLeave","horizontalLink","contentLinkHorizontal","contentLinkVertical","hoverMenuHorizontal","hoverMenuVertical","background","color","borderRight","boxShadow","borderBottom","minHeight","overflow","justifyContent","marginLeft","fontSize","fontFamily","paddingLeft","paddingTop","paddingBottom","maxWidth","flexShrink","paddingRight","position","top","left","Filter","defaultValues","selectedFilter","setSelectedFilter","overrideStrings","handleFieldChange","e","handleFilterChange","filtersObj","UserIcon","SettingsIcon","TSLogo","GitHubLogo"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, setState } from 'react';\nimport { init,  AuthType, Page, EmbedEvent, Action, HostEvent} from '@thoughtspot/visual-embed-sdk';\nimport { SearchEmbed, LiveboardEmbed, AppEmbed, useEmbedRef } from '@thoughtspot/visual-embed-sdk/react';\nimport { MultiSelect } from \"react-multi-select-component\";\n\nfunction Content(props) {\nconst {\n  settings,\n  showSettings\n} = props\nconst thoughtspot_URL = \"https://se-thoughtspot-cloud.thoughtspot.cloud/#\" \n\nconst [renderType, setRenderType] = useState('')\nconst [renderContent, setRenderContent] = useState('')\nconst [renderName, setRenderName] = useState('')\nconst [runFilters, setRunFilters] = useState('')\nconst [selectedFilters, setSelectedFilters] = useState('')\nconst [filterKey, setFilterKey] = useState('')\nconst [renderKey, setRenderKey] = useState('')\nconst [searchFields , setSearchFields] = useState('')\nconst embedRef = useEmbedRef();\n\nuseEffect(() => {\n  if (settings.URL){\n    try {\n      init({\n        thoughtSpotHost: settings.URL,\n        authType: AuthType.None,\n      });\n    }\n    catch(err){\n      alert(\"could not connect to thoughtspot\")\n    }\n  }\n  var defaultFilters = {}\n  if (settings.links){\n    var filterObjs = []\n    var defaultsFound = false;\n    for (var link of settings.links){\n      if (settings.linkTypes[link]=='Filter'){\n        var filterContent = settings.linkContents[link].split(\"|\")\n        var filterName = settings.linkNames[link]\n        if (filterContent.length>1){\n          for (var i=1;i<filterContent.length;i++){\n            var prop = filterContent[i].split(\"=\")[0]\n            var val  = filterContent[i].split(\"=\")[1]\n            if (prop=='default'){\n              var filterObj  = {\n                columnName: filterName,\n                operator: 'IN',\n                values: [val]\n              }\n              defaultFilters[filterName] = [{label:val,value:val}]\n              filterObjs.push(filterObj)\n              defaultsFound=true;\n            }\n          }\n        }\n      }\n    }\n  }\n  if (defaultsFound){\n    setRunFilters(filterObjs);\n    setSelectedFilters(defaultFilters)\n  } \n  if (!runFilters && !defaultsFound) setRunFilters([])\n  if (!selectedFilters && !defaultsFound)  setSelectedFilters({})\n}, [])\n\nfunction renderLink(type,content,name){\n  setRenderContent(content);\n  setRenderType(type);\n  setRenderName(name);\n  setRenderKey(Date.now())\n\n}\nfunction buildSearchString(searchingFields,filteringFields){\n  if (!searchingFields) searchingFields = searchFields\n  if (!filteringFields) filteringFields = runFilters\n\n  var filterString = \"\"\n  if (searchingFields){\n    for (var field of searchingFields){\n        filterString+=\" [\"+field+\"]\"\n    }\n  }\n  if (filteringFields){\n    for (var filter of filteringFields){\n      var filterVals = filter.values\n      for (var val of filterVals){\n        filterString+=\" [\"+filter.columnName+\"].'\"+val+\"'\"\n      }\n    }\n  }\n  var searchString = renderContent.split(\"|\")[0]+filterString\n  console.log(\"runtime search string\", searchString)\n  return searchString\n}\n\n\nfunction setField(fields){\n  // embedRef.current.trigger(HostEvent.Search, {\n  //   searchQuery: buildSearchString(fields, null),\n  //   executeSearch: true,\n\n  // });\n  setSearchFields(fields)\n\n}\nfunction setFilter(newFilterObj){\n  var filterObjs = runFilters;\n  var found = false;\n  for (var i=0;i<filterObjs.length;i++){\n    var filterObj = filterObjs[i]\n    if (!filterObj) continue;\n    if (filterObj.columnName == newFilterObj.columnName){\n      filterObjs[i] = newFilterObj\n      found = true;\n    }\n  }\n  if (!found){\n    filterObjs.push(newFilterObj)\n  }\n  if (renderType=='Liveboard'){\n    embedRef.current.trigger(HostEvent.UpdateRuntimeFilters, filterObjs);\n  }else{\n    setRunFilters(filterObjs);\n\n    // embedRef.current.trigger(HostEvent.Search, {\n    //   searchQuery: buildSearchString(null,filterObjs)\n    // });\n  }\n\n}\nfunction onEmbedRendered(){\n  embedRef.current.on(EmbedEvent.CustomAction, (payload) => {\n    \n    var data = payload.data.embedAnswerData.data[0].columnDataLite\n    var alertString = \"Action Triggered: \"+ payload.data.id\n    for (var col in data){\n      alertString+= \"\\n\\n\"+data[col].dataValue.join(\", \")\n    }\n    alert(alertString);\n  })\n}\nvar isHorizontal = (settings.orientation=='Horizontal') \n\nif (settings.links){\n  var linkContainers = []\n  var topLevel = []\n  for (var link of settings.links){\n    if (!settings.linkParents[link] || settings.linkParents[link]=='None'){\n      topLevel.push(link)\n    }\n  }\n  for (var link of topLevel){\n    var childrenLinks = []\n    for (var child of settings.links){\n      if (settings.linkParents[child]==settings.linkNames[link]){\n        childrenLinks.push(\n          <LinkContainer\n          key={child}\n          id={child}\n          name={settings.linkNames[child]}\n          content={settings.linkContents[child]}\n          type={settings.linkTypes[child]}\n          renderLink={renderLink}\n          isHorizontal={isHorizontal}\n        />\n        )\n      }\n    }\n    linkContainers.push(<LinkContainer\n      key={link}\n      id={link}\n      name={settings.linkNames[link]}\n      content={settings.linkContents[link]}\n      type={settings.linkTypes[link]}\n      renderLink={renderLink}\n      children={childrenLinks}\n      isHorizontal={isHorizontal}\n    />)\n  }\n}\nvar filters = []\nif (settings.links){\n  for (var link of settings.links){\n    if ((settings.linkTypes[link]=='Filter' || settings.linkTypes[link]=='Field') && settings.linkParents[link]==renderName){\n      var filterContent = settings.linkContents[link].split(\"|\")\n      var  hasSelectAll = true;\n      var defaultValue = '';\n      var filterValues = filterContent[0].split(',')\n      var filterName = settings.linkNames[link]\n      if (filterContent.length>1){\n        for (var i=1;i<filterContent.length;i++){\n          var prop = filterContent[i].split(\"=\")[0]\n          var val  = filterContent[i].split(\"=\")[1]\n          if (prop=='selectAll'){\n            if (val=='false'){\n              hasSelectAll=false;  \n            }\n          }\n        }\n      }\n      var filterType = 'Filter'\n      if (settings.linkTypes[link]=='Field'){\n        filterType='Field'\n      }\n      var options = []\n      for (var val in filterValues){\n        options.push({'value':filterValues[val],'label':filterValues[val]})\n      }\n      \n      if (selectedFilters[filterName]){\n        filters.push(<Filter type={filterType} setField={setField} hasSelectAll={hasSelectAll} filterName={filterName} options={options} setFilter={setFilter} defaultValues={selectedFilters[filterName]}></Filter>)\n        //ilters.push(<MultiSelect multi={true} hasSelectAll={hasSelectAll} value={selectedFilters[filterName]} options={options} placeholder={\"Select \"+filterName} onChange={setFilter} overrideStrings={overrideStrings}/>)\n      }else{\n        filters.push(<Filter type={filterType} setField={setField}  hasSelectAll={hasSelectAll} filterName={filterName} options={options} setFilter={setFilter}></Filter>)\n        //filters.push(<MultiSelect multi={true} hasSelectAll={hasSelectAll} options={options} placeholder={\"Select \"+filterName} onChange={setFilter} overrideStrings={overrideStrings}/>)\n      }\n      \n    }\n  }\n}\n\n//Set primary CSS variables for page\n\ndocument.documentElement.style.setProperty('--primary-color', settings.primaryColor);\ndocument.documentElement.style.setProperty('--secondary-color', settings.secondaryColor);\n\n//Style filter dropdown with CSS variables\nif (!isHorizontal){\n  document.documentElement.style.setProperty('--rmsc-p', '8px');\n  document.documentElement.style.setProperty('--rmsc-radius', '3px');\n  document.documentElement.style.setProperty('--rmsc-h', '30px');\n  document.documentElement.style.setProperty('--dropdown-width', '130px');\n  document.documentElement.style.setProperty('--dropdown-container-right-margin', '0px');\n  document.documentElement.style.setProperty('--dropdown-container-bottom-margin', '10px');\n  document.documentElement.style.setProperty('--dropdown-left-margin', '130px');\n  document.documentElement.style.setProperty('--dropdown-top-margin', '-240px');\n  document.documentElement.style.setProperty('--dropdown-max-height', '240px');\n\n}else{\n  document.documentElement.style.setProperty('--rmsc-p', '8px');\n  document.documentElement.style.setProperty('--rmsc-radius', '3px');\n  document.documentElement.style.setProperty('--rmsc-h', '30px');\n  document.documentElement.style.setProperty('--dropdown-width', '150px');\n  document.documentElement.style.setProperty('--dropdown-container-right-margin', '10px');\n  document.documentElement.style.setProperty('--dropdown-container-bottom-margin', '0px');\n  document.documentElement.style.setProperty('--dropdown-left-margin', '0px');\n  document.documentElement.style.setProperty('--dropdown-top-margin', '0px');\n  document.documentElement.style.setProperty('--dropdown-max-height', '500px');\n\n}\n\nvar enabledActions = []\nvar disabledActions = []\n\n//Scan Properties\nif (renderContent && (renderType=='Liveboard' || renderType=='Answer' || renderType=='Search')){\n  var contents = renderContent.split(\"|\")\n  if (contents.length>1){\n    for (var i=1;i<contents.length;i++){\n      var props = contents[i].split(\"=\");\n      if (props.length>1){\n        var prop = props[0]\n        var val = props[1]\n        if (prop == 'enableAction'){\n          enabledActions.push(Action[val.split(\"Action.\")[1]])\n        }\n        if (prop == 'disableAction'){\n          disabledActions.push(Action[val.split(\"Action.\")[1]])\n        }\n      }\n    }\n  }\n}\n\n\nvar renderPage = <div></div>\nif (!renderType && settings && settings.links){\n  var firstLink =  settings.links[0]\n  renderLink(settings.linkTypes[firstLink],settings.linkContents[firstLink],settings.linkNames[firstLink])\n}\nif (renderType=='Search'){\n  var renderContents=null\n  if (renderContent && renderContent.length>0){\n    renderContents = renderContent.split(\"|\")[0].split(\",\")\n  }\n  renderPage = <SearchEmbed \n      enabledActions={enabledActions.length>0 ? enabledActions : null} \n      disabledActions={disabledActions.length>0 ? disabledActions : null} \n      dataSources={renderContents} \n      hideDataSources={true} \n      frameParams={{width:'100%',height:'100%'}}\n  />\n}\nif (renderType=='Liveboard'){\n  renderPage = <LiveboardEmbed \n      ref={embedRef} \n      onLiveboardRendered = {onEmbedRendered}\n      enabledActions={enabledActions.length>0 ? enabledActions : null} \n      disabledActions={disabledActions.length>0 ? disabledActions : null}  \n      hideDataSources={true}  \n      runtimeFilters={runFilters}  \n      liveboardId={renderContent.split(\"|\")[0]} \n      frameParams={{width:'100%',height:'100%'}}\n  />\n}\nif (renderType=='Answer'){\n  renderPage = <SearchEmbed ref={embedRef} \n      enabledActions={enabledActions.length>0 ? enabledActions : null} \n      disabledActions={disabledActions.length>0 ? disabledActions : null}  \n      onLoad={onEmbedRendered}  \n      hideDataSources={true}  \n      answerId={renderContent.split(\"|\")[0]} \n      frameParams={{width:'100%',height:'100vh'}}\n  />\n}\nif (renderType=='Search String'){\n  var searchString = buildSearchString()\n  console.log(\"init search String\",searchString)\n  var searchOptions = {\n    searchTokenString: searchString,\n    executeSearch: true,\n  }\n  var dataSources = renderContent.split(\"|\")[1].split(\",\");\n  \n  renderPage = <SearchEmbed ref={embedRef}  dataSources={dataSources} hideDataSources={true} searchOptions={searchOptions} frameParams={{width:'100%',height:'100vh'}}\n  />\n}\nif (renderType=='App'){\n  renderPage = <AppEmbed pageId={renderContent} frameParams={{width:'100%',height:'100%'}} />\n}\nif (renderType=='URL'){\n  renderPage = <iframe  style={{width:'100%',height:'100%',border:'none'}} src={renderContent}></iframe>\n}\n\ndocument.title = settings.name\n\n\nfunction openTS(){\n  window.open(settings.URL,'_blank')\n}\nfunction openGit(){\n  window.open('https://github.com/hannsta/TSE-Demo-Builder','_blank')\n}\n\n\nreturn (\n  <div style={isHorizontal ? horizontalContainer : verticalContainer}>\n      <div style={isHorizontal ? topMenu : leftMenu}>\n        <div style={isHorizontal ? logoImageHolderHorizontal: logoImageHolderVertical}>\n          <img src={settings.logoImage} style={isHorizontal ? horizontalLogoImage : verticalLogoImage}></img>\n        </div>\n\n        {linkContainers}\n        <div style={isHorizontal ? horizontalIcons : verticalIcons}>\n          {!isHorizontal ? <div style={{margin:'10px',}}>\n              {filters}\n            </div> : <div></div>}\n          <div style={{display:'flex',flexDirection:'row',alignItems:'center', marginTop:'15px', marginBottom:'10px'}}>\n          {isHorizontal ? <div style={{display:'flex',flexDirection:'row',padding:'10px',}}>\n            {filters}\n          </div> : <div></div>}\n            <div onClick={showSettings} style={{marginRight:'5px'}}>\n            <SettingsIcon />\n            </div>\n            <div style={{width:'30px',height:'30px',marginRight:'5px'}} onClick={openTS} >\n            <TSLogo />\n            </div>\n            <div style={{width:'22px',height:'22px', marginRight:'5px'}} onClick={openGit}>\n            <GitHubLogo/>\n            </div>\n          </div>\n        </div>\n\n      </div>\n      <div id=\"TSContainer\" style={{height:'100%'}} key={renderKey}>\n        {renderPage}\n      </div>\n  </div>\n)\n}\nfunction LinkContainer(props){\n  const {\n    id,\n    name,\n    content,\n    type,\n    renderLink,\n    children,\n    isHorizontal\n  } = props\n  \n  const [hoverVisible, setHoverVisible] = useState('')\n\n  function handleLinkClick(){\n    renderLink(type, content, name)\n  }\n  var isDropdown=false;\n  if (children){\n    if (children.length>0){\n      isDropdown=true;\n    }\n  }\n\n  function handleMouseEnter(){\n    setHoverVisible(true)\n  }\n  function handleMouseLeave(){\n    setHoverVisible(false)\n  }\n  return(\n    <div style={isHorizontal ? horizontalLink : null}>\n\n      {isDropdown \n        ?\n        <div style={isHorizontal ? contentLinkHorizontal : contentLinkVertical} className=\"contentLink\" onMouseEnter={handleMouseLeave} onMouseLeave={handleMouseEnter}>\n            {name}\n            {hoverVisible ? \n              null\n            : \n            <div style={isHorizontal ? hoverMenuHorizontal : hoverMenuVertical} className='hoverMenu'>\n              {children}\n            </div>}\n\n        </div>\n        :\n        <div style={isHorizontal ? contentLinkHorizontal : contentLinkVertical} className=\"contentLink\" onClick={handleLinkClick}>\n            {name}\n        </div>      \n      }      \n  </div>)\n}\n\n// CSS to be used for vertical and horizontal alignments\nconst leftMenu = {\n  background: 'var(--primary-color)',\n  color: 'var(--secondary-color)',\n  borderRight: '1px solid #dddddd',\n  width: '150px',\n  height: '100%',\n  display: 'flex',\n  flexDirection: 'column',\n  boxShadow: '0px 0px 15px #dddddd'\n}\nconst topMenu = {\n  background: 'var(--primary-color)',\n  color: 'var(--secondary-color)',\n  borderBottom: '1px solid #dddddd',\n  width: '100%',\n  height: '75px',\n  minHeight: '75px',\n  display: 'flex',\n  flexDirection: 'row',\n  boxShadow: '0px 0px 15px #dddddd'\n}\nconst verticalContainer = {\n  display:'flex',\n  flexDirection: 'row',\n  width: '100%',\n  height: '100vh',\n  overflow: 'hidden'\n}\nconst horizontalContainer = {\n  display:'flex',\n  flexDirection: 'column',\n  width: '100%',\n  height: '100vh',\n  overflow: 'hidden'\n\n}\n\nconst logoImageHolderVertical = {\n  height: '150px',\n  width: '150px',\n  display: 'flex',\n  justifyContent: 'center',\n  alignItems:'center',\n  marginTop:'20px',\n  marginBottom:'20px'\n}\nconst logoImageHolderHorizontal = {\n  display: 'flex',\n  justifyContent: 'center',\n  alignItems:'center',\n  marginLeft:'20px',\n  marginRight:'100px',\n}\nconst verticalLogoImage ={\n  width:'75px',\n}\nconst horizontalLogoImage ={\n  height:'50px',\n}\nconst horizontalIcons = {\n  display:'flex',\n  flexDirection:'column',\n  justifyContent:'center', \n  alignItems:'flex-end',\n  width:'100%',\n  marginRight: '15px'\n}\nconst verticalIcons = {\n  display:'flex',\n  flexDirection:'column',\n  alignItems:'center', \n  justifyContent:'flex-end',\n  height:'100vh'\n}\nconst contentLinkVertical = {\n  fontSize:'14px',\n  fontFamily: \"'Open Sans', sans-serif\",\n  paddingLeft:'15px',\n  paddingTop:'10px',\n  paddingBottom:'10px',\n  marginBottom: '5px'\n}\nconst contentLinkHorizontal = {\n  maxWidth:'100px',\n  height:'50px',\n  display:'flex',\n  alignItems: 'center',\n  flexShrink:0,\n  paddingLeft:'10px',\n  paddingRight:'25px',\n}\nconst horizontalLink = {\n  display:'flex',\n  alignItems: 'flex-end',\n  flexShrink:0,\n}\nconst hoverMenuHorizontal ={\n  position: 'absolute',\n  width: '150px',\n  top: '75px',\n  marginLeft:'-10px',\n}\nconst hoverMenuVertical = {\n  position: 'absolute',\n  width: '150px',\n  left: '150px',\n  marginTop:'-29px',\n}\n\nfunction Filter(props){\n  const {\n    hasSelectAll,\n    filterName,\n    options,\n    type,\n    setFilter,\n    setField,\n    defaultValues\n  } = props\n  const [selectedFilter, setSelectedFilter] = useState('')\n  \n  useEffect(() => {\n    if (defaultValues){\n      setSelectedFilter(defaultValues)\n    }else{\n      setSelectedFilter([])\n    }\n  }, [])\n  \n  var overrideStrings = {\n    \"allItemsAreSelected\": \"All \"+filterName,\n    \"search\": \"Search \"+filterName,\n    \"selectAll\": \"Select All\",\n    \"selectAllFiltered\": \"Select All (Filtered)\",\n    \"selectSomeItems\": filterName,\n    \"create\": \"Create\",\n  }\n  function handleFieldChange(e){\n    setSelectedFilter(e)\n    var filterVals = []\n    for (var i=0;i<e.length;i++){\n      filterVals.push(e[i].label)\n    }\n    setField(filterVals)\n  }\n  function handleFilterChange(e){\n    var filterVals = []\n    for (var i=0;i<e.length;i++){\n      filterVals.push(e[i].label)\n    }\n    var filtersObj  = {\n      columnName: filterName,\n      operator: 'IN',\n      values: filterVals\n    }\n    setSelectedFilter(e)\n    setFilter(filtersObj)\n  }\n\n  return (\n  <MultiSelect \n    multi={true} \n    hasSelectAll={hasSelectAll} \n    value={selectedFilter} \n    options={options} \n    placeholder={\"Select \"+filterName} \n    onChange={type == 'Field' ? handleFieldChange: handleFilterChange} \n    overrideStrings={overrideStrings}/>\n  )\n}\n\nfunction UserIcon(){\n  return <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"-2 -2 24 24\" width=\"24\" fill=\"currentColor\"><path d=\"M10 20C4.477 20 0 15.523 0 10S4.477 0 10 0s10 4.477 10 10-4.477 10-10 10zm0-2a8 8 0 1 0 0-16 8 8 0 0 0 0 16zm0-14a4 4 0 0 1 4 4v2a4 4 0 1 1-8 0V8a4 4 0 0 1 4-4zm0 2a2 2 0 0 0-2 2v2a2 2 0 1 0 4 0V8a2 2 0 0 0-2-2zM5.91 16.876a8.033 8.033 0 0 1-1.58-1.232 5.57 5.57 0 0 1 2.204-1.574 1 1 0 1 1 .733 1.86c-.532.21-.993.538-1.358.946zm8.144.022a3.652 3.652 0 0 0-1.41-.964 1 1 0 1 1 .712-1.868 5.65 5.65 0 0 1 2.284 1.607 8.032 8.032 0 0 1-1.586 1.225z\"></path></svg>\n}\nfunction SettingsIcon(){\n  return <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"-2 -2 24 24\" width=\"24\" fill=\"currentColor\"><path d=\"M20 8.163A2.106 2.106 0 0 0 18.926 10c0 .789.433 1.476 1.074 1.837l-.717 2.406a2.105 2.105 0 0 0-2.218 3.058l-2.062 1.602A2.104 2.104 0 0 0 11.633 20l-3.29-.008a2.104 2.104 0 0 0-3.362-1.094l-2.06-1.615A2.105 2.105 0 0 0 .715 14.24L0 11.825A2.106 2.106 0 0 0 1.051 10C1.051 9.22.63 8.54 0 8.175L.715 5.76a2.105 2.105 0 0 0 2.207-3.043L4.98 1.102A2.104 2.104 0 0 0 8.342.008L11.634 0a2.104 2.104 0 0 0 3.37 1.097l2.06 1.603a2.105 2.105 0 0 0 2.218 3.058L20 8.162zM14.823 3.68c0-.063.002-.125.005-.188l-.08-.062a4.103 4.103 0 0 1-4.308-1.428l-.904.002a4.1 4.1 0 0 1-4.29 1.43l-.095.076A4.108 4.108 0 0 1 2.279 7.6a4.1 4.1 0 0 1 .772 2.399c0 .882-.28 1.715-.772 2.4a4.108 4.108 0 0 1 2.872 4.09l.096.075a4.104 4.104 0 0 1 4.289 1.43l.904.002a4.1 4.1 0 0 1 4.307-1.428l.08-.062A4.108 4.108 0 0 1 17.7 12.4a4.102 4.102 0 0 1-.773-2.4c0-.882.281-1.716.773-2.4a4.108 4.108 0 0 1-2.876-3.919zM10 14a4 4 0 1 1 0-8 4 4 0 0 1 0 8zm0-2a2 2 0 1 0 0-4 2 2 0 0 0 0 4z\"></path></svg>\n}\n\nfunction TSLogo(){\n  return <svg xmlns=\"http://www.w3.org/2000/svg\" focusable=\"false\" width=\"100%\" height=\"100%\" viewBox='0 0 512 512'><g fill=\"currentColor\" fill-rule=\"evenodd\"><path d=\"M328.33 378.112c0-20.677 16.767-37.445 37.444-37.445 20.684 0 37.448 16.768 37.448 37.445 0 20.68-16.764 37.448-37.448 37.448-20.677 0-37.445-16.768-37.445-37.448M106 209.61h100.634v203.608h18.72V209.61h18.724v203.608h18.724V209.61h18.72v203.608h18.725V209.61H400.88v-18.724H106v18.724M106 172.165h294.88v-18.724H106zM106 134.72h294.88V116H106z\"/></g></svg>;\n}\nfunction GitHubLogo(){\n  return <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"100%\" height=\"100%\" viewBox=\"0 0 256 250\" version=\"1.1\" preserveAspectRatio=\"xMidYMid\"><g><path d=\"M128.00106,0 C57.3172926,0 0,57.3066942 0,128.00106 C0,184.555281 36.6761997,232.535542 87.534937,249.460899 C93.9320223,250.645779 96.280588,246.684165 96.280588,243.303333 C96.280588,240.251045 96.1618878,230.167899 96.106777,219.472176 C60.4967585,227.215235 52.9826207,204.369712 52.9826207,204.369712 C47.1599584,189.574598 38.770408,185.640538 38.770408,185.640538 C27.1568785,177.696113 39.6458206,177.859325 39.6458206,177.859325 C52.4993419,178.762293 59.267365,191.04987 59.267365,191.04987 C70.6837675,210.618423 89.2115753,204.961093 96.5158685,201.690482 C97.6647155,193.417512 100.981959,187.77078 104.642583,184.574357 C76.211799,181.33766 46.324819,170.362144 46.324819,121.315702 C46.324819,107.340889 51.3250588,95.9223682 59.5132437,86.9583937 C58.1842268,83.7344152 53.8029229,70.715562 60.7532354,53.0843636 C60.7532354,53.0843636 71.5019501,49.6441813 95.9626412,66.2049595 C106.172967,63.368876 117.123047,61.9465949 128.00106,61.8978432 C138.879073,61.9465949 149.837632,63.368876 160.067033,66.2049595 C184.49805,49.6441813 195.231926,53.0843636 195.231926,53.0843636 C202.199197,70.715562 197.815773,83.7344152 196.486756,86.9583937 C204.694018,95.9223682 209.660343,107.340889 209.660343,121.315702 C209.660343,170.478725 179.716133,181.303747 151.213281,184.472614 C155.80443,188.444828 159.895342,196.234518 159.895342,208.176593 C159.895342,225.303317 159.746968,239.087361 159.746968,243.303333 C159.746968,246.709601 162.05102,250.70089 168.53925,249.443941 C219.370432,232.499507 256,184.536204 256,128.00106 C256,57.3066942 198.691187,0 128.00106,0 Z M47.9405593,182.340212 C47.6586465,182.976105 46.6581745,183.166873 45.7467277,182.730227 C44.8183235,182.312656 44.2968914,181.445722 44.5978808,180.80771 C44.8734344,180.152739 45.876026,179.97045 46.8023103,180.409216 C47.7328342,180.826786 48.2627451,181.702199 47.9405593,182.340212 Z M54.2367892,187.958254 C53.6263318,188.524199 52.4329723,188.261363 51.6232682,187.366874 C50.7860088,186.474504 50.6291553,185.281144 51.2480912,184.70672 C51.8776254,184.140775 53.0349512,184.405731 53.8743302,185.298101 C54.7115892,186.201069 54.8748019,187.38595 54.2367892,187.958254 Z M58.5562413,195.146347 C57.7719732,195.691096 56.4895886,195.180261 55.6968417,194.042013 C54.9125733,192.903764 54.9125733,191.538713 55.713799,190.991845 C56.5086651,190.444977 57.7719732,190.936735 58.5753181,192.066505 C59.3574669,193.22383 59.3574669,194.58888 58.5562413,195.146347 Z M65.8613592,203.471174 C65.1597571,204.244846 63.6654083,204.03712 62.5716717,202.981538 C61.4524999,201.94927 61.1409122,200.484596 61.8446341,199.710926 C62.5547146,198.935137 64.0575422,199.15346 65.1597571,200.200564 C66.2704506,201.230712 66.6095936,202.705984 65.8613592,203.471174 Z M75.3025151,206.281542 C74.9930474,207.284134 73.553809,207.739857 72.1039724,207.313809 C70.6562556,206.875043 69.7087748,205.700761 70.0012857,204.687571 C70.302275,203.678621 71.7478721,203.20382 73.2083069,203.659543 C74.6539041,204.09619 75.6035048,205.261994 75.3025151,206.281542 Z M86.046947,207.473627 C86.0829806,208.529209 84.8535871,209.404622 83.3316829,209.4237 C81.8013,209.457614 80.563428,208.603398 80.5464708,207.564772 C80.5464708,206.498591 81.7483088,205.631657 83.2786917,205.606221 C84.8005962,205.576546 86.046947,206.424403 86.046947,207.473627 Z M96.6021471,207.069023 C96.7844366,208.099171 95.7267341,209.156872 94.215428,209.438785 C92.7295577,209.710099 91.3539086,209.074206 91.1652603,208.052538 C90.9808515,206.996955 92.0576306,205.939253 93.5413813,205.66582 C95.054807,205.402984 96.4092596,206.021919 96.6021471,207.069023 Z\" fill=\"currentColor\"/></g></svg>\n}\nexport default Content;"]},"metadata":{},"sourceType":"module"}