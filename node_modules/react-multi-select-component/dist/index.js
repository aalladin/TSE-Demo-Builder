var Me=Object.create;var K=Object.defineProperty,De=Object.defineProperties,Te=Object.getOwnPropertyDescriptor,Fe=Object.getOwnPropertyDescriptors,Le=Object.getOwnPropertyNames,ie=Object.getOwnPropertySymbols,Ke=Object.getPrototypeOf,de=Object.prototype.hasOwnProperty,We=Object.prototype.propertyIsEnumerable;var ce=(e,r,t)=>r in e?K(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,re=(e,r)=>{for(var t in r||(r={}))de.call(r,t)&&ce(e,t,r[t]);if(ie)for(var t of ie(r))We.call(r,t)&&ce(e,t,r[t]);return e},pe=(e,r)=>De(e,Fe(r));var _e=(e,r)=>{for(var t in r)K(e,t,{get:r[t],enumerable:!0})},me=(e,r,t,o)=>{if(r&&typeof r=="object"||typeof r=="function")for(let s of Le(r))!de.call(e,s)&&s!==t&&K(e,s,{get:()=>r[s],enumerable:!(o=Te(r,s))||o.enumerable});return e};var y=(e,r,t)=>(t=e!=null?Me(Ke(e)):{},me(r||!e||!e.__esModule?K(t,"default",{value:e,enumerable:!0}):t,e)),He=e=>me(K({},"__esModule",{value:!0}),e);var Ge={};_e(Ge,{Dropdown:()=>q,MultiSelect:()=>we,SelectItem:()=>T,SelectPanel:()=>j});module.exports=He(Ge);function oe(e,{insertAt:r}={}){if(!e||typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",r==="top"&&t.firstChild?t.insertBefore(o,t.firstChild):t.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}oe(`.rmsc{--rmsc-main: #4285f4;--rmsc-hover: #f1f3f5;--rmsc-selected: #e2e6ea;--rmsc-border: #ccc;--rmsc-gray: #aaa;--rmsc-bg: #fff;--rmsc-p: 10px;--rmsc-radius: 4px;--rmsc-h: 38px}.rmsc *{box-sizing:border-box;transition:all .2s ease}.rmsc .gray{color:var(--rmsc-gray)}.rmsc .dropdown-content{position:absolute;z-index:1;top:100%;width:100%;padding-top:8px}.rmsc .dropdown-content .panel-content{overflow:hidden;border-radius:var(--rmsc-radius);background:var(--rmsc-bg);box-shadow:0 0 0 1px #0000001a,0 4px 11px #0000001a}.rmsc .dropdown-container{position:relative;outline:0;background-color:var(--rmsc-bg);border:1px solid var(--rmsc-border);border-radius:var(--rmsc-radius)}.rmsc .dropdown-container[aria-disabled=true]:focus-within{box-shadow:var(--rmsc-gray) 0 0 0 1px;border-color:var(--rmsc-gray)}.rmsc .dropdown-container:focus-within{box-shadow:var(--rmsc-main) 0 0 0 1px;border-color:var(--rmsc-main)}.rmsc .dropdown-heading{position:relative;padding:0 var(--rmsc-p);display:flex;align-items:center;width:100%;height:var(--rmsc-h);cursor:default;outline:0}.rmsc .dropdown-heading .dropdown-heading-value{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;flex:1}.rmsc .clear-selected-button{cursor:pointer;background:none;border:0;padding:0;display:flex}.rmsc .options{max-height:260px;overflow-y:auto;margin:0;padding-left:0}.rmsc .options li{list-style:none;margin:0}.rmsc .select-item{box-sizing:border-box;cursor:pointer;display:block;padding:var(--rmsc-p);outline:0}.rmsc .select-item:hover,.rmsc .select-item:focus{background:var(--rmsc-hover)}.rmsc .select-item.selected{background:var(--rmsc-selected)}.rmsc .no-options{padding:var(--rmsc-p);text-align:center;color:var(--rmsc-gray)}.rmsc .search{width:100%;position:relative;border-bottom:1px solid var(--rmsc-border)}.rmsc .search input{background:none;height:var(--rmsc-h);padding:0 var(--rmsc-p);width:100%;outline:0;border:0}.rmsc .search-clear-button{cursor:pointer;position:absolute;top:0;right:0;bottom:0;background:none;border:0;padding:0 calc(var(--rmsc-p) / 2)}.rmsc .search-clear-button [hidden]{display:none}.rmsc .item-renderer{display:flex;align-items:baseline}.rmsc .item-renderer input{margin:0 5px 0 0}.rmsc .item-renderer.disabled{opacity:.5}.rmsc .spinner{animation:rotate 2s linear infinite}.rmsc .spinner .path{stroke:var(--rmsc-border);stroke-width:4px;stroke-linecap:round;animation:dash 1.5s ease-in-out infinite}@keyframes rotate{to{transform:rotate(360deg)}}@keyframes dash{0%{stroke-dasharray:1,150;stroke-dashoffset:0}50%{stroke-dasharray:90,150;stroke-dashoffset:-35}to{stroke-dasharray:90,150;stroke-dashoffset:-124}}
`);var z=y(require("react"));var I=y(require("react")),Re={allItemsAreSelected:"All items are selected.",clearSearch:"Clear Search",clearSelected:"Clear Selected",noOptions:"No options",search:"Search",selectAll:"Select All",selectAllFiltered:"Select All (Filtered)",selectSomeItems:"Select...",create:"Create"},Be={value:[],hasSelectAll:!0,className:"multi-select",debounceDuration:200,options:[]},ue=I.default.createContext({}),fe=({props:e,children:r})=>{let[t,o]=(0,I.useState)(e.options),s=p=>{var h;return((h=e.overrideStrings)==null?void 0:h[p])||Re[p]};return(0,I.useEffect)(()=>{o(e.options)},[e.options]),I.default.createElement(ue.Provider,{value:pe(re(re({t:s},Be),e),{options:t,setOptions:o})},r)},A=()=>I.default.useContext(ue);var c=y(require("react"));var B=require("react");function he(e,r){let t=(0,B.useRef)(!1);(0,B.useEffect)(()=>{t.current?e():t.current=!0},r)}var O=require("react"),Ue={when:!0,eventTypes:["keydown"]};function D(e,r,t){let o=(0,O.useMemo)(()=>Array.isArray(e)?e:[e],[e]),s=Object.assign({},Ue,t),{when:p,eventTypes:h}=s,x=(0,O.useRef)(r),{target:a}=s;(0,O.useEffect)(()=>{x.current=r});let u=(0,O.useCallback)(d=>{o.some(i=>d.key===i||d.code===i)&&x.current(d)},[o]);(0,O.useEffect)(()=>{if(p&&typeof window<"u"){let d=a?a.current:window;return h.forEach(i=>{d&&d.addEventListener(i,u)}),()=>{h.forEach(i=>{d&&d.removeEventListener(i,u)})}}},[p,h,o,a,r])}var g={ARROW_DOWN:"ArrowDown",ARROW_UP:"ArrowUp",ENTER:"Enter",ESCAPE:"Escape",SPACE:"Space"};var l=y(require("react"));var be=(e,r)=>{let t;return function(...o){clearTimeout(t),t=setTimeout(()=>{e.apply(null,o)},r)}};function ge(e,r){return r?e.filter(({label:t,value:o})=>t!=null&&o!=null&&t.toLowerCase().includes(r.toLowerCase())):e}var U=y(require("react")),V=()=>U.default.createElement("svg",{width:"24",height:"24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"dropdown-search-clear-icon gray"},U.default.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),U.default.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}));var W=y(require("react"));var $=y(require("react")),Ve=({checked:e,option:r,onClick:t,disabled:o})=>$.default.createElement("div",{className:`item-renderer ${o&&"disabled"}`},$.default.createElement("input",{type:"checkbox",onChange:t,checked:e,tabIndex:-1,disabled:o}),$.default.createElement("span",null,r.label)),ve=Ve;var $e=({itemRenderer:e=ve,option:r,checked:t,tabIndex:o,disabled:s,onSelectionChanged:p,onClick:h})=>{let x=(0,W.useRef)(),a=i=>{u(),i.preventDefault()},u=()=>{s||p(!t)},d=i=>{u(),h(i)};return D([g.ENTER,g.SPACE],a,{target:x}),W.default.createElement("label",{className:`select-item ${t&&"selected"}`,role:"option","aria-selected":t,tabIndex:o,ref:x},W.default.createElement(e,{option:r,checked:t,onClick:d,disabled:s}))},T=$e;var _=y(require("react"));var je=({options:e,onClick:r,skipIndex:t})=>{let{disabled:o,value:s,onChange:p,ItemRenderer:h}=A(),x=(a,u)=>{o||p(u?[...s,a]:s.filter(d=>d.value!==a.value))};return _.default.createElement(_.default.Fragment,null,e.map((a,u)=>{let d=u+t;return _.default.createElement("li",{key:(a==null?void 0:a.key)||u},_.default.createElement(T,{tabIndex:d,option:a,onSelectionChanged:i=>x(a,i),checked:!!s.find(i=>i.value===a.value),onClick:i=>r(i,d),itemRenderer:h,disabled:a.disabled||o}))}))},xe=je;var Ye=()=>{let{t:e,onChange:r,options:t,setOptions:o,value:s,filterOptions:p,ItemRenderer:h,disabled:x,disableSearch:a,hasSelectAll:u,ClearIcon:d,debounceDuration:i,isCreatable:G,onCreateOption:k}=A(),P=(0,l.useRef)(),S=(0,l.useRef)(),[b,H]=(0,l.useState)(""),[C,J]=(0,l.useState)(t),[w,R]=(0,l.useState)(""),[N,M]=(0,l.useState)(0),Q=(0,l.useCallback)(be(n=>R(n),i),[]),F=(0,l.useMemo)(()=>{let n=0;return a||(n+=1),u&&(n+=1),n},[a,u]),X={label:e(b?"selectAllFiltered":"selectAll"),value:""},Z=n=>{let m=C.filter(E=>!E.disabled).map(E=>E.value);if(n){let Ne=[...s.map(te=>te.value),...m];return(p?C:t).filter(te=>Ne.includes(te.value))}return s.filter(E=>!m.includes(E.value))},ee=n=>{let m=Z(n);r(m)},v=n=>{Q(n.target.value),H(n.target.value),M(0)},L=()=>{var n;R(""),H(""),(n=S==null?void 0:S.current)==null||n.focus()},le=n=>M(n),Oe=n=>{switch(n.code){case g.ARROW_UP:ae(-1);break;case g.ARROW_DOWN:ae(1);break;default:return}n.stopPropagation(),n.preventDefault()};D([g.ARROW_DOWN,g.ARROW_UP],Oe,{target:P});let ke=()=>{M(0)},Ee=async()=>{let n={label:b,value:b,__isNew__:!0};k&&(n=await k(b)),o([n,...t]),L(),r([...s,n])},Ie=async()=>p?await p(t,w):ge(t,w),ae=n=>{let m=N+n;m=Math.max(0,m),m=Math.min(m,t.length+Math.max(F-1,0)),M(m)};(0,l.useEffect)(()=>{var n,m;(m=(n=P==null?void 0:P.current)==null?void 0:n.querySelector(`[tabIndex='${N}']`))==null||m.focus()},[N]);let[Ae,Pe]=(0,l.useMemo)(()=>{let n=C.filter(m=>!m.disabled);return[n.every(m=>s.findIndex(E=>E.value===m.value)!==-1),n.length!==0]},[C,s]);return(0,l.useEffect)(()=>{Ie().then(J)},[w,t]),l.default.createElement("div",{className:"select-panel",role:"listbox",ref:P},!a&&l.default.createElement("div",{className:"search"},l.default.createElement("input",{placeholder:e("search"),type:"text","aria-describedby":e("search"),onChange:v,onFocus:ke,value:b,ref:S,tabIndex:0}),l.default.createElement("button",{type:"button",className:"search-clear-button",hidden:!b,onClick:L,"aria-label":e("clearSearch")},d||l.default.createElement(V,null))),l.default.createElement("ul",{className:"options"},u&&Pe&&l.default.createElement(T,{tabIndex:F===1?0:1,checked:Ae,option:X,onSelectionChanged:ee,onClick:()=>le(1),itemRenderer:h,disabled:x}),C.length?l.default.createElement(xe,{skipIndex:F,options:C,onClick:(n,m)=>le(m)}):G?l.default.createElement("li",{onClick:Ee,className:"select-item creatable"},`${e("create")} "${b}"`):l.default.createElement("li",{className:"no-options"},e("noOptions"))))},j=Ye;var ne=y(require("react")),Se=({expanded:e})=>ne.default.createElement("svg",{width:"24",height:"24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"dropdown-heading-dropdown-arrow gray"},ne.default.createElement("path",{d:e?"M18 15 12 9 6 15":"M6 9L12 15 18 9"}));var se=y(require("react"));var ye=()=>{let{t:e,value:r,options:t,valueRenderer:o}=A(),s=r.length===0,p=r.length===t.length,h=o&&o(r,t);return s?se.default.createElement("span",{className:"gray"},h||e("selectSomeItems")):se.default.createElement("span",null,h||(p?e("allItemsAreSelected"):(()=>r.map(a=>a.label).join(", "))()))};var Y=y(require("react")),Ce=({size:e=24})=>Y.default.createElement("span",{style:{width:e,marginRight:"0.2rem"}},Y.default.createElement("svg",{width:e,height:e,className:"spinner",viewBox:"0 0 50 50",style:{display:"inline",verticalAlign:"middle"}},Y.default.createElement("circle",{cx:"25",cy:"25",r:"20",fill:"none",className:"path"})));var qe=()=>{let{t:e,onMenuToggle:r,ArrowRenderer:t,shouldToggleOnHover:o,isLoading:s,disabled:p,onChange:h,labelledBy:x,value:a,isOpen:u,defaultIsOpen:d,ClearSelectedIcon:i,closeOnChangedValue:G}=A();(0,c.useEffect)(()=>{G&&b(!1)},[a]);let[k,P]=(0,c.useState)(!0),[S,b]=(0,c.useState)(d),[H,C]=(0,c.useState)(!1),J=t||Se,w=(0,c.useRef)();he(()=>{r&&r(S)},[S]),(0,c.useEffect)(()=>{d===void 0&&typeof u=="boolean"&&(P(!1),b(u))},[u]);let R=v=>{var L;["text","button"].includes(v.target.type)&&[g.SPACE,g.ENTER].includes(v.code)||(k&&(v.code===g.ESCAPE?(b(!1),(L=w==null?void 0:w.current)==null||L.focus()):b(!0)),v.preventDefault())};D([g.ENTER,g.ARROW_DOWN,g.SPACE,g.ESCAPE],R,{target:w});let N=v=>{k&&o&&b(v)},M=()=>!H&&C(!0),Q=v=>{!v.currentTarget.contains(v.relatedTarget)&&k&&(C(!1),b(!1))},F=()=>N(!0),X=()=>N(!1),Z=()=>{k&&b(s||p?!1:!S)},ee=v=>{v.stopPropagation(),h([]),k&&b(!1)};return c.default.createElement("div",{tabIndex:0,className:"dropdown-container","aria-labelledby":x,"aria-expanded":S,"aria-readonly":!0,"aria-disabled":p,ref:w,onFocus:M,onBlur:Q,onMouseEnter:F,onMouseLeave:X},c.default.createElement("div",{className:"dropdown-heading",onClick:Z},c.default.createElement("div",{className:"dropdown-heading-value"},c.default.createElement(ye,null)),s&&c.default.createElement(Ce,null),a.length>0&&i!==null&&c.default.createElement("button",{type:"button",className:"clear-selected-button",onClick:ee,disabled:p,"aria-label":e("clearSelected")},i||c.default.createElement(V,null)),c.default.createElement(J,{expanded:S})),S&&c.default.createElement("div",{className:"dropdown-content"},c.default.createElement("div",{className:"panel-content"},c.default.createElement(j,null))))},q=qe;var ze=e=>z.default.createElement(fe,{props:e},z.default.createElement("div",{className:`rmsc ${e.className||"multi-select"}`},z.default.createElement(q,null))),we=ze;0&&(module.exports={Dropdown,MultiSelect,SelectItem,SelectPanel});
